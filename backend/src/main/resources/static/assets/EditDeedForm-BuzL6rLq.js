import{r as p,b as g,d as v,u as A,c as f,a as t,v as r,y as n,t as d,x as w,F as N,k as V,h as c,w as P,f as D,i as I,s as T,g as B,o as _,j as E}from"./index-CAyGVHwS.js";import{_ as R}from"./CustomSelectModal.vue_vue_type_script_setup_true_lang-D0ipJySR.js";const U={class:"max-w-2xl p-6 mx-auto space-y-4 bg-white shadow rounded-xl"},J={if:"error.deed_number",class:"text-red-600"},S=["value"],G={if:"error.deed_type",class:"text-red-600"},H={if:"error.title",class:"text-red-600"},K={if:"error.deed_date",class:"text-red-600"},M={if:"error.customer_id",class:"text-red-600"},W={class:"text-right"},$={__name:"EditDeedForm",setup(j){const u=A(),x=B(),a=p({id:0,deed_number:"",deed_type:"",title:"",description:"",deed_date:"",customer_id:""}),s=p({deed_number:"",deed_type:"",title:"",description:"",deed_date:"",customer_id:""}),k={JUAL_BELI:"Jual Beli",HIBAH:"Hibah",PERJANJIAN:"Perjanjian",WASIAT:"Wasiat",PENDIRIAN_PT:"Pendirian PT",PERUBAHAN_ANGGARAN:"Perubahan Anggaran Dasar",KETERANGAN_WARIS:"Keterangan Waris"},m=p([]);g(async()=>{try{const o=await v.get("/deeds/");m.value=o.data,console.log(m.value)}catch(o){console.error("Gagal memuat klien",o)}const e=(await v.get(`/deeds/${u.params.id}`)).data;a.value={id:e.id,deed_number:e.number??"",customer_id:e.customerId,deed_type:e.deedType,title:e.title,description:e.description,deed_date:e.deedDate}});const y=async()=>{var i;try{await v.put(`/deeds/${u.params.id}`,a.value),x.push({name:"akta"})}catch(e){console.error("Gagal memperbaharui akta:",e),e.status==400&&(s.value=(i=e.response)==null?void 0:i.data,console.log("fields ",s.value))}};return(i,e)=>{const o=I("router-link");return _(),f("div",U,[e[15]||(e[15]=t("h2",{class:"text-xl font-bold"},"Perbaharui Akta",-1)),t("form",{onSubmit:T(y,["prevent"]),class:"space-y-4"},[t("div",null,[e[6]||(e[6]=t("label",{class:"block font-medium"},"Nomor",-1)),r(t("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>a.value.deed_number=l),type:"text",class:"w-full mt-1 form-input",placeholder:"Nomor"},null,512),[[n,a.value.deed_number]]),t("span",J,d(s.value.deed_number),1)]),t("div",null,[e[8]||(e[8]=t("label",{class:"block font-medium"},"Tipe Akta",-1)),r(t("select",{"onUpdate:modelValue":e[1]||(e[1]=l=>a.value.deed_type=l),class:"w-full mt-1 form-select"},[e[7]||(e[7]=t("option",{disabled:"",value:""},"Pilih tipe akta",-1)),(_(),f(N,null,V(k,(l,b)=>t("option",{key:b,value:b},d(l),9,S)),64))],512),[[w,a.value.deed_type]]),t("span",G,d(s.value.deed_type),1)]),t("div",null,[e[9]||(e[9]=t("label",{class:"block font-medium"},"Judul",-1)),r(t("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>a.value.title=l),type:"text",class:"w-full mt-1 form-input",placeholder:"Judul akta (misal: Akta Jual Beli)"},null,512),[[n,a.value.title]]),t("span",H,d(s.value.title),1)]),t("div",null,[e[10]||(e[10]=t("label",{class:"block font-medium"},"Tanggal",-1)),r(t("input",{"onUpdate:modelValue":e[3]||(e[3]=l=>a.value.deed_date=l),type:"date",class:"w-full mt-1 form-input"},null,512),[[n,a.value.deed_date]]),t("span",K,d(s.value.deed_date),1)]),t("div",null,[e[11]||(e[11]=t("label",{class:"block font-medium"},"Klien",-1)),c(R,{data:m.value,modelValue:a.value.customer_id,"onUpdate:modelValue":e[4]||(e[4]=l=>a.value.customer_id=l)},null,8,["data","modelValue"]),t("span",M,d(s.value.customer_id),1)]),t("div",null,[e[12]||(e[12]=t("label",{class:"block font-medium"},"Deskripsi",-1)),r(t("textarea",{"onUpdate:modelValue":e[5]||(e[5]=l=>a.value.description=l),rows:"4",class:"w-full mt-1 form-textarea",placeholder:"Isi ringkas atau catatan akta..."},null,512),[[n,a.value.description]])]),t("div",W,[c(o,{to:{name:"DeedDetail",params:D(u).params.id},class:"px-4 py-2 m-2 text-white bg-black rounded"},{default:P(()=>e[13]||(e[13]=[E("Kembali")])),_:1,__:[13]},8,["to"]),e[14]||(e[14]=t("button",{type:"submit",class:"px-4 py-2 text-white bg-blue-600 rounded hover:bg-blue-700"},"Simpan",-1))])],32)])}}};export{$ as default};

import{_ as B,r as k,b as D,c as l,a as t,j as o,t as n,f as P,B as N,e as u,F as T,n as h,d as _,u as C,o as r}from"./index-D9cTIc_g.js";const M={class:"max-w-3xl p-6 mx-auto bg-white rounded shadow"},S={class:"mb-4"},V={class:"p-4 mb-6 bg-gray-100 rounded"},F={class:"uppercase"},R={class:"mt-2"},j=["href"],E=["src"],K={key:1,class:"mt-2 text-sm text-gray-700"},L={class:"flex items-center justify-between mt-6"},$={key:0},z={__name:"InvoicePaymentAdminView",setup(G){const x=k("http://localhost:8080"),I=C(),e=k({}),i=async()=>{const{data:s}=await _.get(`/invoices/${I.params.id}/show`);e.value=s},w=async()=>{if(confirm("Tandai invoice ini sebagai lunas?"))try{await _.post(`invoices/${e.value.id}/mark-paid`),alert("Status pembayaran diperbarui."),i()}catch{alert("Gagal memperbarui status.")}};D(()=>{i()});const A=s=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(s);return(s,a)=>{var d,m,v,p,c,b,y,f,g;return r(),l("div",M,[a[9]||(a[9]=t("h1",{class:"mb-4 text-xl font-bold"},"Detail Pembayaran Invoice",-1)),t("div",S,[t("p",null,[a[0]||(a[0]=t("strong",null,"Nomor Invoice:",-1)),o(" "+n((d=e.value)==null?void 0:d.invoiceNumber),1)]),t("p",null,[a[1]||(a[1]=t("strong",null,"Tanggal:",-1)),o(" "+n(P(N)((m=e.value)==null?void 0:m.invoiceDate)),1)]),t("p",null,[a[2]||(a[2]=t("strong",null,"Klien:",-1)),o(" "+n((p=(v=e.value)==null?void 0:v.customer)==null?void 0:p.fullname),1)]),t("p",null,[a[3]||(a[3]=t("strong",null,"Total:",-1)),o(" "+n(A((c=e.value)==null?void 0:c.totalAmount)),1)])]),t("div",V,[t("p",null,[a[4]||(a[4]=t("strong",null,"Metode Pembayaran:",-1)),t("span",F,n(((b=e.value)==null?void 0:b.paymentMethod)||"Belum dipilih"),1)]),((y=e.value)==null?void 0:y.paymentMethod)==="BANK_TRANSFER"?(r(),l(T,{key:0},[t("p",null,[a[5]||(a[5]=t("strong",null,"Bank:",-1)),o(" "+n(e.value.bankCode),1)]),t("div",R,[a[6]||(a[6]=t("p",{class:"mb-1 font-medium"},"Bukti Transfer:",-1)),t("a",{href:(f=e.value)==null?void 0:f.evident,target:"_blank"},[t("img",{src:x.value+"/"+e.value.evident,alt:"Bukti Transfer",class:"w-64 border rounded"},null,8,E)],8,j)])],64)):u("",!0),((g=e.value)==null?void 0:g.paymentMethod)==="CASH"?(r(),l("div",K,a[7]||(a[7]=[t("p",null,"Pembayaran akan dilakukan langsung di kantor.",-1)]))):u("",!0)]),t("div",L,[t("div",null,[t("p",null,[a[8]||(a[8]=t("strong",null,"Status:",-1)),t("span",{class:h({"text-green-600 font-bold":e.value.status==="PAID","text-red-600 font-bold":e.value.status!=="PAID"})},n(e.value.status==="PAID"?"Lunas":"Belum Dibayar"),3)])]),e.value.status!=="PAID"&&e.value.paymentMethod?(r(),l("div",$,[t("button",{onClick:w,class:"btn-primary"},"Tandai sebagai Lunas")])):u("",!0)])])}}},U=B(z,[["__scopeId","data-v-7c9d66d2"]]);export{U as default};

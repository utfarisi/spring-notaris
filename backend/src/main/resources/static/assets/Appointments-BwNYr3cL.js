import{r as d,b as f,c as a,a as s,F as p,k as x,t as n,e as u,d as l,o}from"./index-DedqXQjj.js";const b={key:0,class:"space-y-4"},k={class:"flex justify-between"},y={class:"text-sm text-gray-500"},v={class:"text-lg font-semibold"},w={class:"text-sm text-gray-600 mt-1"},j={class:"text-sm mt-2"},N={class:"space-x-2 self-start"},E=["onClick"],B=["onClick"],C={key:1,class:"bg-white p-2 font-bold text-center"},G={__name:"Appointments",setup(D){const r=d([]),m=d(0),c=async()=>{const e=await l.get("/appointments");r.value=e.data.content,m.value=e.data.totalElements,console.log(" res ",e),console.log(e==null?void 0:e.totalElements)},_=async e=>{if(confirm("Yakin ingin membatalkan janji ini?"))try{await l.patch(`/appointments/${e}/cancel`),await c()}catch{alert("Gagal membatalkan janji.")}},h=async e=>{try{await l.patch(`/appointments/${e}/confirm`),await c()}catch{alert("Gagal mengonfirmasi janji.")}};return f(c),(e,i)=>(o(),a("div",null,[i[0]||(i[0]=s("div",{class:"flex"},[s("h1",{class:"text-2xl font-bold mb-4"},"Daftar Semua Janji")],-1)),m.value>0?(o(),a("div",b,[(o(!0),a(p,null,x(r.value,t=>(o(),a("div",{key:t.id,class:"p-4 border rounded shadow-sm bg-white"},[s("div",k,[s("div",null,[s("p",y,n(t.status),1),s("p",v,n(t.appointmentDate)+" â€¢ "+n(t.appointmentTime.substring(0,5))+" ("+n(t.durationMinute)+" menit)",1),s("p",w,n(t.description),1),s("p",j,"ðŸ‘¤ "+n(t.customer.firstName)+" "+n(t.customer.lastName)+" | ðŸ“ž "+n(t.customer.phone),1)]),s("div",N,[t.status==="PENDING"?(o(),a("button",{key:0,onClick:g=>_(t.id),class:"px-3 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-700"}," Batalkan ",8,E)):u("",!0),t.status==="PENDING"?(o(),a("button",{key:1,onClick:g=>h(t.id),class:"px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700"}," Konfirmasi ",8,B)):u("",!0)])])]))),128))])):(o(),a("div",C," Belum ada janji dengan klien "))]))}};export{G as default};

import{r as c,b as h,d as k,c as r,a as e,e as u,F as w,k as D,t as l,i as N,o as d,h as P,w as C,j as L}from"./index-CxQJsHfq.js";const j={class:"p-6 overflow-x-auto bg-white rounded-md shadow-md"},B={class:"w-full mt-5 border border-gray-300 table-auto"},S={key:0},V={class:"px-4 py-2 text-center border border-gray-300"},A={class:"px-4 py-2 text-center border border-gray-300"},I={class:"px-4 py-2 text-center border border-gray-300"},T={class:"px-4 py-2 text-center border border-gray-300"},F={class:"px-4 py-2 text-center border border-gray-300"},M={key:1},E={key:0,class:"flex items-center justify-between mt-4"},G=["disabled"],H=["disabled"],q={__name:"InvoiceListAdmin",setup(R){const o=c(),s=c(0);c(null);const i=c(!1);h(async()=>{i.value=!0;try{const n=await k.get("/invoices");o.value=n.data}catch{alert(" Gagal mengambil invoice! ")}finally{i.value=!1}});const m=()=>{s.value>0&&(s.value--,fetchDeeds())},_=()=>{s.value+1<totalPages.value&&(s.value++,fetchDeeds())},v=n=>new Date(n).toLocaleDateString("id-ID");return(n,t)=>{var p,b,y,g,x;const f=N("router-link");return d(),r("div",null,[t[4]||(t[4]=e("h1",{class:"mb-4 text-2xl font-bold"},"Daftar Invoice",-1)),e("div",j,[e("table",B,[t[3]||(t[3]=e("thead",null,[e("tr",null,[e("th",{class:"px-4 py-2 border border-gray-300"},"Nomor"),e("th",{class:"px-4 py-2 border border-gray-300"},"Tanggal"),e("th",{class:"px-4 py-2 border border-gray-300"},"Total"),e("th",{class:"px-4 py-2 border border-gray-300"},"Status"),e("th",{class:"px-4 py-2 border border-gray-300"},"Aksi")])],-1)),e("tbody",null,[i.value?(d(),r("tr",S,t[0]||(t[0]=[e("td",{colspan:"5"},[e("div",{class:"py-4 text-center"},[e("span",{class:"inline-block w-6 h-6 border-4 border-blue-400 rounded-full animate-spin border-t-transparent"}),e("p",{class:"mt-2 text-sm text-gray-500"},"Memuat semua janji...")])],-1)]))):u("",!0),(d(!0),r(w,null,D((p=o.value)==null?void 0:p.content,a=>(d(),r("tr",{key:a.id,class:"border-t"},[e("td",V,l(a==null?void 0:a.invoiceNumber),1),e("td",A,l(v(a.invoiceDate)),1),e("td",I,"Rp"+l(a.totalAmount.toLocaleString()),1),e("td",T,l(a.status),1),e("td",F,[P(f,{class:"text-blue-600",to:`/invoices/${a.id}`},{default:C(()=>t[1]||(t[1]=[L("Lihat")])),_:2,__:[1]},1032,["to"])])]))),128)),(b=o.value)!=null&&b.empty?(d(),r("tr",M,t[2]||(t[2]=[e("td",{colspan:"5",class:"py-4 text-center text-gray-500"},"Belum ada data invoice",-1)]))):u("",!0)])]),(y=o.value)!=null&&y.empty?u("",!0):(d(),r("div",E,[e("button",{class:"px-3 py-1 bg-gray-200 rounded disabled:opacity-50",onClick:m,disabled:s.value===0}," < Prev ",8,G),e("span",null,"Halaman "+l(s.value+1)+" dari "+l((g=o.value)==null?void 0:g.totalPages),1),e("button",{class:"px-3 py-1 bg-gray-200 rounded disabled:opacity-50",onClick:_,disabled:s.value+1>=((x=o.value)==null?void 0:x.totalPages)}," Next > ",8,H)]))])])}}};export{q as default};

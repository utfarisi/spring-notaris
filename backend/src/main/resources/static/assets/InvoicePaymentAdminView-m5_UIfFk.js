import{_ as w,r as A,b as D,c as l,a as t,j as o,t as n,f as B,B as P,e as i,F as N,n as T,d as k,u as C,o as r}from"./index-Ddq957EV.js";const M={class:"max-w-3xl p-6 mx-auto bg-white rounded shadow"},S={class:"mb-4"},V={class:"p-4 mb-6 bg-gray-100 rounded"},h={class:"uppercase"},F={class:"mt-2"},R=["href"],j=["src"],E={key:1,class:"mt-2 text-sm text-gray-700"},K={class:"flex items-center justify-between mt-6"},L={key:0},$={__name:"InvoicePaymentAdminView",setup(z){const _=C(),e=A({}),u=async()=>{const{data:s}=await k.get(`/invoices/${_.params.id}/show`);e.value=s},x=async()=>{if(confirm("Tandai invoice ini sebagai lunas?"))try{await k.post(`invoices/${e.value.id}/mark-paid`),alert("Status pembayaran diperbarui."),u()}catch{alert("Gagal memperbarui status.")}};D(()=>{u()});const I=s=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(s);return(s,a)=>{var d,m,v,p,c,b,y,f,g;return r(),l("div",M,[a[9]||(a[9]=t("h1",{class:"mb-4 text-xl font-bold"},"Detail Pembayaran Invoice",-1)),t("div",S,[t("p",null,[a[0]||(a[0]=t("strong",null,"Nomor Invoice:",-1)),o(" "+n((d=e.value)==null?void 0:d.invoiceNumber),1)]),t("p",null,[a[1]||(a[1]=t("strong",null,"Tanggal:",-1)),o(" "+n(B(P)((m=e.value)==null?void 0:m.invoiceDate)),1)]),t("p",null,[a[2]||(a[2]=t("strong",null,"Klien:",-1)),o(" "+n((p=(v=e.value)==null?void 0:v.customer)==null?void 0:p.fullname),1)]),t("p",null,[a[3]||(a[3]=t("strong",null,"Total:",-1)),o(" "+n(I((c=e.value)==null?void 0:c.totalAmount)),1)])]),t("div",V,[t("p",null,[a[4]||(a[4]=t("strong",null,"Metode Pembayaran:",-1)),t("span",h,n(((b=e.value)==null?void 0:b.paymentMethod)||"Belum dipilih"),1)]),((y=e.value)==null?void 0:y.paymentMethod)==="BANK_TRANSFER"?(r(),l(N,{key:0},[t("p",null,[a[5]||(a[5]=t("strong",null,"Bank:",-1)),o(" "+n(e.value.bankCode),1)]),t("div",F,[a[6]||(a[6]=t("p",{class:"mb-1 font-medium"},"Bukti Transfer:",-1)),t("a",{href:(f=e.value)==null?void 0:f.evident,target:"_blank"},[t("img",{src:e.value.evident,alt:"Bukti Transfer",class:"w-64 border rounded"},null,8,j)],8,R)])],64)):i("",!0),((g=e.value)==null?void 0:g.paymentMethod)==="CASH"?(r(),l("div",E,a[7]||(a[7]=[t("p",null,"Pembayaran akan dilakukan langsung di kantor.",-1)]))):i("",!0)]),t("div",K,[t("div",null,[t("p",null,[a[8]||(a[8]=t("strong",null,"Status:",-1)),t("span",{class:T({"text-green-600 font-bold":e.value.status==="PAID","text-red-600 font-bold":e.value.status!=="PAID"})},n(e.value.status==="PAID"?"Lunas":"Belum Dibayar"),3)])]),e.value.status!=="PAID"&&e.value.paymentMethod?(r(),l("div",L,[t("button",{onClick:x,class:"btn-primary"},"Tandai sebagai Lunas")])):i("",!0)])])}}},H=w($,[["__scopeId","data-v-376fd681"]]);export{H as default};

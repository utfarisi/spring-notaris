import{r as c,b,c as n,a as s,e as r,F as f,k as x,d as m,o as a,t as o}from"./index-Dgr_zgK7.js";const y={key:0,class:"py-4 text-center"},k={key:1,class:"space-y-4"},v={class:"flex justify-between"},j={class:"text-sm text-gray-500"},w={class:"text-lg font-semibold"},N={class:"mt-1 text-sm text-gray-600"},E={class:"mt-2 text-sm"},B={class:"self-start space-x-2"},C=["onClick"],D=["onClick"],A={key:2,class:"p-2 font-bold text-center bg-white"},M={__name:"Appointments",setup(G){const d=c([]),u=c(0),_=c(!1),l=async()=>{try{const e=await m.get("/appointments");d.value=e.data.content,u.value=e.data.totalElements,console.log(" res ",e),console.log(e==null?void 0:e.totalElements)}catch{}finally{}},p=async e=>{if(confirm("Yakin ingin membatalkan janji ini?"))try{await m.patch(`/appointments/${e}/cancel`),await l()}catch{alert("Gagal membatalkan janji.")}},g=async e=>{try{await m.patch(`/appointments/${e}/confirm`),await l()}catch{alert("Gagal mengonfirmasi janji.")}};return b(l),(e,i)=>(a(),n("div",null,[i[1]||(i[1]=s("div",{class:"flex"},[s("h1",{class:"mb-4 text-2xl font-bold"},"Daftar Semua Janji")],-1)),_.value?(a(),n("div",y,i[0]||(i[0]=[s("span",{class:"inline-block w-6 h-6 border-4 border-blue-400 rounded-full animate-spin border-t-transparent"},null,-1),s("p",{class:"mt-2 text-sm text-gray-500"},"Memuat semua janji...",-1)]))):r("",!0),u.value>0?(a(),n("div",k,[(a(!0),n(f,null,x(d.value,t=>(a(),n("div",{key:t.id,class:"p-4 bg-white border rounded shadow-sm"},[s("div",v,[s("div",null,[s("p",j,o(t.status),1),s("p",w,o(t.appointmentDate)+" â€¢ "+o(t.appointmentTime.substring(0,5))+" ("+o(t.durationMinute)+" menit)",1),s("p",N,o(t.description),1),s("p",E,"ðŸ‘¤ "+o(t.customer.firstName)+" "+o(t.customer.lastName)+" | ðŸ“ž "+o(t.customer.phone),1)]),s("div",B,[t.status==="PENDING"?(a(),n("button",{key:0,onClick:h=>p(t.id),class:"px-3 py-1 text-sm text-white bg-red-600 rounded hover:bg-red-700"}," Batalkan ",8,C)):r("",!0),t.status==="PENDING"?(a(),n("button",{key:1,onClick:h=>g(t.id),class:"px-3 py-1 text-sm text-white bg-green-600 rounded hover:bg-green-700"}," Konfirmasi ",8,D)):r("",!0)])])]))),128))])):(a(),n("div",A," Belum ada janji dengan klien "))]))}};export{M as default};

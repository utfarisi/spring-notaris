import{r as d,b as h,c as n,a as e,e as m,F as y,k as f,d as u,o as a,t as o}from"./index-yF2I2mu-.js";const g={key:0,class:"py-4 text-center"},x={key:1,class:"p-2 space-y-4"},k={class:"flex justify-between"},v={class:"text-sm text-gray-500"},w={class:"text-lg font-semibold"},j={class:"mt-1 text-sm text-gray-600"},N={class:"mt-2 text-sm"},B={class:"self-start space-x-2"},C=["onClick"],D=["onClick"],A={key:2,class:"p-2 font-bold text-center bg-white"},E={__name:"Appointments",setup(G){const r=d([]);d(0);const c=d(!1),l=async()=>{c.value=!0;try{const s=await u.get("/appointments");r.value=s.data}catch(s){alert(" error : ",s)}finally{c.value=!1}},p=async s=>{if(confirm("Yakin ingin membatalkan janji ini?"))try{await u.patch(`/appointments/${s}/cancel`),await l()}catch{alert("Gagal membatalkan janji.")}},_=async s=>{try{await u.patch(`/appointments/${s}/confirm`),await l()}catch{alert("Gagal mengonfirmasi janji.")}};return h(l),(s,i)=>(a(),n("div",null,[i[1]||(i[1]=e("h1",{class:"p-2 mb-4 text-2xl font-bold"},"Daftar Semua Janji",-1)),c.value?(a(),n("div",g,i[0]||(i[0]=[e("span",{class:"inline-block w-6 h-6 border-4 border-blue-400 rounded-full animate-spin border-t-transparent"},null,-1),e("p",{class:"mt-2 text-sm text-gray-500"},"Memuat data ...",-1)]))):m("",!0),!r.value.empty>0?(a(),n("div",x,[(a(!0),n(y,null,f(r.value.content,t=>(a(),n("div",{key:t.id,class:"p-4 bg-white border border-gray-300 rounded shadow-sm"},[e("div",k,[e("div",null,[e("p",v,o(t.status),1),e("p",w,o(t.appointmentDate)+" â€¢ "+o(t.appointmentTime.substring(0,5))+" ("+o(t.durationMinute)+" menit)",1),e("p",j,o(t.description),1),e("p",N,"ðŸ‘¤ "+o(t.customer.firstName)+" "+o(t.customer.lastName)+" | ðŸ“ž "+o(t.customer.phone),1)]),e("div",B,[t.status==="PENDING"?(a(),n("button",{key:0,onClick:b=>p(t.id),class:"px-3 py-1 text-sm text-white bg-red-600 rounded hover:bg-red-700"}," Batalkan ",8,C)):m("",!0),t.status==="PENDING"?(a(),n("button",{key:1,onClick:b=>_(t.id),class:"px-3 py-1 text-sm text-white bg-green-600 rounded hover:bg-green-700"}," Konfirmasi ",8,D)):m("",!0)])])]))),128))])):(a(),n("div",A," Belum ada janji dengan klien "))]))}};export{E as default};
